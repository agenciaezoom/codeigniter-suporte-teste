"use strict";var app,$window=$(window),mobileBreakpoint=1024;function Main(){this.init(),this.header(),this.lazyload(),this.removeHoverTouch(),this.form(),this.menu(),this.tabs()}Main.prototype.init=function(){$(".common-text").find("table").length>0&&$(".common-text").find("table").wrap("<div class='table-wrap'></div>"),$("select").selectize()},Main.prototype.svgArrow='<?xml version="1.0" encoding="UTF-8"?><svg enable-background="new 0 0 491.996 491.996" version="1.1" viewBox="0 0 492 492" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m484.13 124.99-16.116-16.228c-5.072-5.068-11.82-7.86-19.032-7.86-7.208 0-13.964 2.792-19.036 7.86l-183.84 183.85-184.05-184.05c-5.064-5.068-11.82-7.856-19.028-7.856s-13.968 2.788-19.036 7.856l-16.12 16.128c-10.496 10.488-10.496 27.572 0 38.06l219.14 219.92c5.064 5.064 11.812 8.632 19.084 8.632h0.084c7.212 0 13.96-3.572 19.024-8.632l218.93-219.33c5.072-5.064 7.856-12.016 7.864-19.224 0-7.212-2.792-14.068-7.864-19.128z"/></svg>',Main.prototype.tabs=function(){$(".current-tab").on("click",function(){$(this).closest(".container-tabs").toggleClass("open-tabs"),$(this).closest(".container-tabs").find(".item").on("click",function(){$(".container-tabs").removeClass("open-tabs")})})},Main.prototype.customSelect=function(e,o){var t=$(e),n=t.find(".selected"),s=t.find(".list"),i={id:0,text:""};n.on("click.toggleSelect",function(e){t.toggleClass("open")}),s.find(".item").on("click.optionSelected",function(){i.id=$(this).data("id"),i.text=$(this).find("span").text(),i.hasSelected=!!$(this).hasClass("current"),n.html(i.text),n.data("id",i.id),s.find(".item").removeClass("current"),$(this).addClass("current"),t.removeClass("open"),"function"==typeof o&&o(i)}),$(document).on("click.closeSelect",function(e){0==$(e.target).closest(t).length&&t.hasClass("open")&&t.removeClass("open")})},Main.prototype.header=function(){$("#open-menu").on("click",function(){$("#products-dropdown").removeClass("open"),$("body").toggleClass("menu-open")}),$window.on("scroll.scrollMenu",function(){$window.scrollTop()>80&&$window.outerWidth()>mobileBreakpoint||$window.scrollTop()>45&&$window.outerWidth()<=mobileBreakpoint?$("#header").addClass("menu-scroll"):$("#header").removeClass("menu-scroll")}).trigger("scroll.scrollMenu")},Main.prototype.menu=function(){var e=$("#header"),o=$("#products-footer-btn");e.find("#menu .products-menu .nav-item").on("click",function(e){$(this).toggleClass("open"),$(this).closest("li").find(".nav-list > ul").stop(!0,!1).slideToggle(300)}),e.find("#menu .products-menu .category-item").on("click",function(e){$(this).toggleClass("open"),$(this).find(".category-lines").stop(!0,!1).slideToggle(300)}),o.on("click",function(e){$(".products-menu").trigger("click")})},Main.prototype.lazyload=function(){$(".lazyload:not(.ondemand)").lazyload({viewport:!1})},Main.prototype.form=function(){var e=this;$("body").on("click",".dismiss-modal",function(){$.magnificPopup.close()}),mobile&&(pickout.to({el:".pickout",search:!0,noResults:i18n.select_no_results}),pickout.updated(".has-val")),$(".ajax-form").each(function(o,t){var n=$(this),s=n.find("select:not(.select-product)");if($(".mask-phone").length>0&&e.maskPhone(),s.length){var i={onBlur:function(){""==this.getValue()&&this.value},onFocus:function(){this.value=this.getValue(),this.clear(),this.order>=30&&this.$control_input.removeAttr("readonly")}};s.selectize(i).filter("[required]").on("change",function(){$(this).data("required",!0),null==this.value?($(this).closest(".field").addClass("error"),retorno=!1):$(this).closest(".field").removeClass("error")})}n.validate({errorClass:"error",highlight:function(e,o,t){$(e).closest(".field").addClass(o)},unhighlight:function(e,o,t){$(e).closest(".field").removeClass(o)},errorPlacement:function(e,o){return console.log(e,o),!1},submitHandler:function(e){if(n.data("loading"))return!1;n.data("loading",!0),n.find("button").addClass("loading");var o=new FormData;n.find('[type="file"]').length>0&&o.append("file",n.find('[type="file"]')[0].files[0]),$.each(n.serializeArray(),function(e,t){o.append(t.name,t.value)}),$.ajax({url:n.attr("action"),type:"POST",data:o,processData:!1,contentType:!1,success:function(o){o=JSON.parse(o),$(e).data("loading",!1),$(e).find("button").removeClass("loading"),o.status?(n[0].reset(),n.find("input, textarea").change(),o.redirect&&o.redirect.length>0?window.location.href=o.redirect:app.openDialog({title:o.title,message:o.message,buttons:!0,callbacks:{close:function(){$("body").removeClass("mfp-opened"),$("#common-dialog .icons").removeClass(o.class),location.reload()},open:function(){$("body").addClass("mfp-opened"),o.class&&$("#common-dialog .icons").addClass(o.class)}}})):app.openDialog({title:o.title,message:o.message,buttons:!0,iconClass:o.class})},error:function(e){n.data("loading",!1),n.find("button").removeClass("loading"),app.openDialog({title:"Opss!",message:"Ocorreu um erro inesperado.",iconClass:"error",buttons:!0})}})}})})},Main.prototype.ajaxSelect=function(e){var o=!1,t=$(e.element),n=$(e.target),s=t.data("src");t.removeAttr("data-src").on("change",function(){var e=this.value;if(!mobile){var t=n[0].selectize;o&&o.abort(),t.disable(),t.clearOptions(),t.refreshOptions()}""!=e&&(n.closest(".field").addClass("loading"),o=$.ajax({type:"POST",url:s,data:{id:e},dataType:"json",success:function(e){if(mobile){var o="<option>"+n.attr("placeholder")+"</option>";for(s=0;s<e.length;s++)o+='<option value="'+e[s].id+'">'+e[s].name+"</option>";n.html(o),pickout.updated(".pickout")}else{for(var s=0;s<e.length;s++)t.addOption({value:e[s].id,text:e[s].name});t.refreshOptions(),e.length&&setTimeout(function(){t.enable()},10)}},complete:function(){n.closest(".field").removeClass("loading"),o=!1}}))})},Main.prototype.elementInViewport=function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var o=$(e).height()/2;return e.getBoundingClientRect().bottom-o<=(window.innerHeight||document.documentElement.clientHeight)},Main.prototype.initSlick=function(e,o){e=e||".carousel";var t={slidesToShow:1,slidesToScroll:1,infinite:!1,autoplay:!1,autoplaySpeed:8e3,dots:!1,arrows:!1,nextArrow:'<button type="button" class="arrow-next">'+app.svgArrow+"<span></span></button>",prevArrow:'<button type="button" class="arrow-prev">'+app.svgArrow+"<span></span></button>",speed:600,asNavFor:null,centerMode:!1,variableWidth:!1,fade:!1,pauseOnHover:!1,pauseOnFocus:!1,swipeToSlide:!1,cssEase:"linear",responsive:!1};o=$.extend(t,o),$(e).slick(o)},Main.prototype.masks=function(){if($(".cpf-mask").mask("000.000.000-00"),$(".cnpj-mask").mask("00.000.000/0000-00"),$(".date-mask").mask("99/99/9999"),$(".cep-mask").mask("99999-999"),$(".phone-mask").length){var e=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};$(".phone-mask").mask(e,{onKeyPress:function(o,t,n,s){n.mask(e.apply({},arguments),s)}})}},Main.prototype.initMagnific=function(e){(e=e||$(".magnific-gallery")).each(function(){$(this).magnificPopup({delegate:"a",type:"image",iframe:{patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"}}},tClose:"",mainClass:"mfp-fade",removalDelay:300,tLoading:"Carregando",image:{tError:"Não foi possível carregar a imagem."},gallery:{enabled:!0,tPrev:"",tNext:"",tCounter:'<span class="mfp-counter">%curr% / %total%</span>'}})})},Main.prototype.closeDialog=function(){$.magnificPopup.close()},Main.prototype.openDialog=function(e){var o={src:"#common-dialog",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,tClose:"",mainClass:"my-mfp-zoom-in",message:!1,title:!1,modal:!1,buttons:null,callbacks:{open:function(){$("body").addClass("mfp-opened"),e.iconClass&&$("#common-dialog .icons").addClass(e.iconClass)},close:function(){$("body").removeClass("mfp-opened"),$("#common-dialog .icons").removeClass(e.iconClass)}}},t=$.extend({},o,e);t.items={type:"inline",src:t.src},t.title?$(t.src).find(".common-title").html(t.title):"#common-dialog"==t.src&&$(t.src).find(".common-title").empty(),t.message?$(t.src).find(".common-text").html(t.message):"#common-dialog"==t.src&&$(t.src).find(".common-text").empty(),!0===t.buttons?$(t.src).find(".common-buttons").show():(!1===t.buttons||!0!==t.buttons&&"#common-dialog"==t.src)&&$(t.src).find(".common-buttons").hide(),$("body").on("click",".dismiss-modal",function(){app.closeDialog()}),delete t.buttons,delete t.src,delete t.title,delete t.message,delete t.iconClass,$.magnificPopup.open(t,0)},Main.prototype.removeHoverTouch=function(){if("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var e in document.styleSheets){var o=document.styleSheets[e];if(o.rules)for(var t=o.rules.length-1;t>=0;t--)o.rules[t].selectorText&&o.rules[t].selectorText.match(":hover")&&(o.rules[t].selectorText=o.rules[t].selectorText.replace(/\:hover/g,":active"))}}catch(e){}},$(document).ready(function(){app=new Main});